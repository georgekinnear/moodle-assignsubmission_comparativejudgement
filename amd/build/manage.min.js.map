{"version":3,"sources":["../src/manage.js"],"names":["define","$","ajax","notification","init","entitytype","document","on","chkbox","entityid","data","state","is","attr","call","methodname","args","then","removeAttr","fail","exception"],"mappings":"AAOAA,OAAM,gDAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,mBAAxB,CAAD,CACF,SAASC,CAAT,CAAYC,CAAZ,CAAkBC,CAAlB,CAAgC,CAC5B,MAAO,CACHC,IAAI,CAAE,cAASC,CAAT,CAAqB,CACvBJ,CAAC,CAACK,QAAD,CAAD,CAAYC,EAAZ,CAAe,QAAf,CAAyB,qBAAzB,CAAgD,UAAY,IACpDC,CAAAA,CAAM,CAAGP,CAAC,CAAC,IAAD,CAD0C,CAEpDQ,CAAQ,CAAGD,CAAM,CAACE,IAAP,CAAY,UAAZ,CAFyC,CAGpDC,CAAK,CAAGH,CAAM,CAACI,EAAP,CAAU,UAAV,CAH4C,CAIxDJ,CAAM,CAACK,IAAP,CAAY,UAAZ,CAAwB,UAAxB,EAEAX,CAAI,CAACY,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,wDADL,CAEPC,IAAI,CAAE,CAACP,QAAQ,CAAEA,CAAX,CAAqBE,KAAK,CAAEA,CAA5B,CAAmCN,UAAU,CAAEA,CAA/C,CAFC,CAAD,CAAV,EAGI,CAHJ,EAGOY,IAHP,CAGY,UAAW,CACnBT,CAAM,CAACU,UAAP,CAAkB,UAAlB,CAA8B,UAA9B,EACA,QACH,CAND,EAMGC,IANH,CAMQhB,CAAY,CAACiB,SANrB,CAOH,CAbD,CAcH,CAhBE,CAkBV,CApBC,CAAN","sourcesContent":["/**\n * @package    assignsubmission_comparativejudgement\n * @copyright 2020 Andrew Hancox at Open Source Learning <andrewdchancox@googlemail.com>\n * @copyright 2020 Ian Jones at Loughborough University <I.Jones@lboro.ac.uk>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/ajax', 'core/notification'],\n    function($, ajax, notification) {\n        return {\n            init: function(entitytype) {\n                $(document).on('change', 'input.excludeentity', function () {\n                    var chkbox = $(this);\n                    var entityid = chkbox.data('entityid');\n                    var state = chkbox.is(':checked');\n                    chkbox.attr('disabled', 'disabled');\n\n                    ajax.call([{\n                        methodname: 'assignsubmission_comparativejudgement_toggle_exclusion',\n                        args: {entityid: entityid, state: state, entitytype: entitytype}\n                    }])[0].then(function() {\n                        chkbox.removeAttr('disabled', 'disabled');\n                        return true;\n                    }).fail(notification.exception);\n                });\n            }\n        };\n    });"],"file":"manage.min.js"}